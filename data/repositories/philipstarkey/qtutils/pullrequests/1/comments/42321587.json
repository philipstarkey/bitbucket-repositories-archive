{"links": {"self": {"href": "data/repositories/philipstarkey/qtutils/pullrequests/1/comments/42321587.json"}, "html": {"href": "#!/philipstarkey/qtutils/pull-requests/1/_/diff#comment-42321587"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1, "links": {"self": {"href": "data/repositories/philipstarkey/qtutils/pullrequests/1.json"}, "html": {"href": "#!/philipstarkey/qtutils/pull-requests/1"}}, "title": "PyQt5"}, "content": {"raw": "Some of the patches break with PySide because PySide [effectively already does the patch](https://pyside.github.io/docs/pyside/pysideapi2.html). So importing qtutils after PySide fails. The fix is:\n\n\n```\n#!diff\n\n--- a/qtutils/qt.py\tTue Aug 01 20:28:24 2017 +0200\n+++ b/qtutils/qt.py\tMon Aug 07 15:00:16 2017 -0400\n@@ -107,9 +107,11 @@\n     _patch(QtGui.QHeaderView, \"setSectionsClickable\", \"setClickable\")\n     _patch(QtGui.QHeaderView, \"setSectionResizeMode\", \"setResizeMode\")\n \n-    _patch(QtGui.QFileDialog, \"getOpenFileName\", \"getOpenFileNameAndFilter\")\n-    _patch(QtGui.QFileDialog, \"getOpenFileNames\", \"getOpenFileNamesAndFilter\")\n-    _patch(QtGui.QFileDialog, \"getSaveFileName\", \"getSaveFileNameAndFilter\")\n+    if QT_ENV == PYQT4:\n+        # Pyside does not have the methods ending in \"-AndFilter\":\n+        _patch(QtGui.QFileDialog, \"getOpenFileName\", \"getOpenFileNameAndFilter\")\n+        _patch(QtGui.QFileDialog, \"getOpenFileNames\", \"getOpenFileNamesAndFilter\")\n+        _patch(QtGui.QFileDialog, \"getSaveFileName\", \"getSaveFileNameAndFilter\")\n \n     QtWidgets = QtGui\n     QtCore.QSortFilterProxyModel = QtGui.QSortFilterProxyModel\n\n```\n", "markup": "markdown", "html": "<p>Some of the patches break with PySide because PySide <a data-is-external-link=\"true\" href=\"https://pyside.github.io/docs/pyside/pysideapi2.html\" rel=\"nofollow\">effectively already does the patch</a>. So importing qtutils after PySide fails. The fix is:</p>\n<div class=\"codehilite language-diff\"><pre><span></span><span class=\"gd\">--- a/qtutils/qt.py Tue Aug 01 20:28:24 2017 +0200</span>\n<span class=\"gi\">+++ b/qtutils/qt.py Mon Aug 07 15:00:16 2017 -0400</span>\n<span class=\"gu\">@@ -107,9 +107,11 @@</span>\n     _patch(QtGui.QHeaderView, &quot;setSectionsClickable&quot;, &quot;setClickable&quot;)\n     _patch(QtGui.QHeaderView, &quot;setSectionResizeMode&quot;, &quot;setResizeMode&quot;)\n\n<span class=\"gd\">-    _patch(QtGui.QFileDialog, &quot;getOpenFileName&quot;, &quot;getOpenFileNameAndFilter&quot;)</span>\n<span class=\"gd\">-    _patch(QtGui.QFileDialog, &quot;getOpenFileNames&quot;, &quot;getOpenFileNamesAndFilter&quot;)</span>\n<span class=\"gd\">-    _patch(QtGui.QFileDialog, &quot;getSaveFileName&quot;, &quot;getSaveFileNameAndFilter&quot;)</span>\n<span class=\"gi\">+    if QT_ENV == PYQT4:</span>\n<span class=\"gi\">+        # Pyside does not have the methods ending in &quot;-AndFilter&quot;:</span>\n<span class=\"gi\">+        _patch(QtGui.QFileDialog, &quot;getOpenFileName&quot;, &quot;getOpenFileNameAndFilter&quot;)</span>\n<span class=\"gi\">+        _patch(QtGui.QFileDialog, &quot;getOpenFileNames&quot;, &quot;getOpenFileNamesAndFilter&quot;)</span>\n<span class=\"gi\">+        _patch(QtGui.QFileDialog, &quot;getSaveFileName&quot;, &quot;getSaveFileNameAndFilter&quot;)</span>\n\n     QtWidgets = QtGui\n     QtCore.QSortFilterProxyModel = QtGui.QSortFilterProxyModel\n</pre></div>", "type": "rendered"}, "created_on": "2017-08-07T19:04:43.512997+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-08-07T19:04:53.913645+00:00", "type": "pullrequest_comment", "id": 42321587}