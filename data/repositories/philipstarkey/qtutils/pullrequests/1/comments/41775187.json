{"links": {"self": {"href": "data/repositories/philipstarkey/qtutils/pullrequests/1/comments/41775187.json"}, "html": {"href": "#!/philipstarkey/qtutils/pull-requests/1/_/diff#comment-41775187"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 1, "links": {"self": {"href": "data/repositories/philipstarkey/qtutils/pullrequests/1.json"}, "html": {"href": "#!/philipstarkey/qtutils/pull-requests/1"}}, "title": "PyQt5"}, "content": {"raw": "I noticed a typo in `icons/__init__.py`, the string `PySide` has the wrong capitalisation and so icons aren't imported under PySide.\n\nTo ensure typos like this cause loud failure rather than silent failure, you should change the following lines:\n\n```\n#!python\n\n$ grep -rin $'QT_ENV == \\'' *\nicons/__init__.py:2:if qtutils.qt.QT_ENV == 'Pyside':\nicons/__init__.py:4:elif qtutils.qt.QT_ENV == 'PyQt4':\nicons/__init__.py:6:elif qtutils.qt.QT_ENV == 'PyQt5':\nUiLoader.py:28:if qtutils.qt.QT_ENV == 'PySide':\nUiLoader.py:99:    if qtutils.qt.QT_ENV == 'PyQt4':\nUiLoader.py:101:    elif qtutils.qt.QT_ENV == 'PyQt5':\n```\n\nTo compare with the `qtutils.qt.PYSIDE` etc constants rather than hardcoded strings (there's one similar check in your fork of labscript_utils, but it is correct). ", "markup": "markdown", "html": "<p>I noticed a typo in <code>icons/__init__.py</code>, the string <code>PySide</code> has the wrong capitalisation and so icons aren't imported under PySide.</p>\n<p>To ensure typos like this cause loud failure rather than silent failure, you should change the following lines:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"err\">$</span> <span class=\"n\">grep</span> <span class=\"o\">-</span><span class=\"n\">rin</span> <span class=\"err\">$</span><span class=\"s1\">&#39;QT_ENV == </span><span class=\"se\">\\&#39;</span><span class=\"s1\">&#39;</span> <span class=\"o\">*</span>\n<span class=\"n\">icons</span><span class=\"o\">/</span><span class=\"fm\">__init__</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">2</span><span class=\"p\">:</span><span class=\"k\">if</span> <span class=\"n\">qtutils</span><span class=\"o\">.</span><span class=\"n\">qt</span><span class=\"o\">.</span><span class=\"n\">QT_ENV</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;Pyside&#39;</span><span class=\"p\">:</span>\n<span class=\"n\">icons</span><span class=\"o\">/</span><span class=\"fm\">__init__</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">4</span><span class=\"p\">:</span><span class=\"k\">elif</span> <span class=\"n\">qtutils</span><span class=\"o\">.</span><span class=\"n\">qt</span><span class=\"o\">.</span><span class=\"n\">QT_ENV</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;PyQt4&#39;</span><span class=\"p\">:</span>\n<span class=\"n\">icons</span><span class=\"o\">/</span><span class=\"fm\">__init__</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">6</span><span class=\"p\">:</span><span class=\"k\">elif</span> <span class=\"n\">qtutils</span><span class=\"o\">.</span><span class=\"n\">qt</span><span class=\"o\">.</span><span class=\"n\">QT_ENV</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;PyQt5&#39;</span><span class=\"p\">:</span>\n<span class=\"n\">UiLoader</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">28</span><span class=\"p\">:</span><span class=\"k\">if</span> <span class=\"n\">qtutils</span><span class=\"o\">.</span><span class=\"n\">qt</span><span class=\"o\">.</span><span class=\"n\">QT_ENV</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;PySide&#39;</span><span class=\"p\">:</span>\n<span class=\"n\">UiLoader</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">99</span><span class=\"p\">:</span>    <span class=\"k\">if</span> <span class=\"n\">qtutils</span><span class=\"o\">.</span><span class=\"n\">qt</span><span class=\"o\">.</span><span class=\"n\">QT_ENV</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;PyQt4&#39;</span><span class=\"p\">:</span>\n<span class=\"n\">UiLoader</span><span class=\"o\">.</span><span class=\"n\">py</span><span class=\"p\">:</span><span class=\"mi\">101</span><span class=\"p\">:</span>    <span class=\"k\">elif</span> <span class=\"n\">qtutils</span><span class=\"o\">.</span><span class=\"n\">qt</span><span class=\"o\">.</span><span class=\"n\">QT_ENV</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;PyQt5&#39;</span><span class=\"p\">:</span>\n</pre></div>\n\n\n<p>To compare with the <code>qtutils.qt.PYSIDE</code> etc constants rather than hardcoded strings (there's one similar check in your fork of labscript_utils, but it is correct). </p>", "type": "rendered"}, "created_on": "2017-07-30T22:15:44.029202+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-07-30T22:15:44.031622+00:00", "type": "pullrequest_comment", "id": 41775187}