{"links": {"self": {"href": "data/repositories/philipstarkey/qtutils/pullrequests/19/comments/96971373.json"}, "html": {"href": "#!/philipstarkey/qtutils/pull-requests/19/_/diff#comment-96971373"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/philipstarkey/qtutils/pullrequests/19.json"}, "html": {"href": "#!/philipstarkey/qtutils/pull-requests/19"}}, "title": "Upscale icons for better HiDPI support."}, "content": {"raw": "Gah, this is no good. Setting a pixmap in a label does not get scaled down since it is not an \u2018icon\u2019:\n\n\u200c\n\n![](data/bitbucket.org/repo/Rg5nLg/images/1636310498-Screenshot_from_2019-03-29_15-26-16.png)\nSo this approach is bogus. Have to rethink.\n\nThe only other thing I can think of is to build both scaled and unscaled versions of the icon resource files, then at import time, if qtutils detects that it\u2019s on a high DPI screen, it loads the scaled ones, otherwise it loads the unscaled ones. This is not ideal because then what if you have mixed DPI screens? I don\u2019t know what Qt does in this case presently \\(Guessing it doesn\u2019t handle it well\\), but it sucks if we were to force a particular icon size and then Qt actually did work with mixed DPI \\(if not now, in the future\\). \n\nMaybe the right thing to do is just turn on the DPI scaling option where Qt will scale everything up. It\u2019s just icons look terrible and blurry in that case.\n\nWill think a little more about this.", "markup": "markdown", "html": "<p>Gah, this is no good. Setting a pixmap in a label does not get scaled down since it is not an \u2018icon\u2019:</p>\n<p>\u200c</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/Rg5nLg/images/1636310498-Screenshot_from_2019-03-29_15-26-16.png\" />\nSo this approach is bogus. Have to rethink.</p>\n<p>The only other thing I can think of is to build both scaled and unscaled versions of the icon resource files, then at import time, if qtutils detects that it\u2019s on a high DPI screen, it loads the scaled ones, otherwise it loads the unscaled ones. This is not ideal because then what if you have mixed DPI screens? I don\u2019t know what Qt does in this case presently (Guessing it doesn\u2019t handle it well), but it sucks if we were to force a particular icon size and then Qt actually did work with mixed DPI (if not now, in the future). </p>\n<p>Maybe the right thing to do is just turn on the DPI scaling option where Qt will scale everything up. It\u2019s just icons look terrible and blurry in that case.</p>\n<p>Will think a little more about this.</p>", "type": "rendered"}, "created_on": "2019-03-29T19:34:28.778677+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-03-29T19:34:28.788871+00:00", "type": "pullrequest_comment", "id": 96971373}